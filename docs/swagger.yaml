definitions:
  d.Account:
    properties:
      email:
        type: string
      id:
        type: string
      password:
        type: string
    type: object
  d.AccountForm:
    properties:
      email:
        type: string
      password:
        type: string
    required:
    - email
    - password
    type: object
  d.Episode:
    properties:
      content:
        description: Content holds the value of the "content" field.
        type: string
      cover:
        description: Cover holds the value of the "cover" field.
        type: string
      create_time:
        description: CreateTime holds the value of the "create_time" field.
        type: string
      edges:
        $ref: '#/definitions/ent.EpisodeEdges'
        description: |-
          Edges holds the relations/edges for other nodes in the graph.
          The values are being populated by the EpisodeQuery when eager-loading is set.
      id:
        description: ID of the ent.
        type: string
      profile:
        $ref: '#/definitions/d.Profile'
      sid:
        description: Sid holds the value of the "sid" field.
        type: string
      title:
        description: Title holds the value of the "title" field.
        type: string
      update_time:
        description: UpdateTime holds the value of the "update_time" field.
        type: string
    type: object
  d.EpisodeForm:
    properties:
      content:
        type: string
      cover:
        type: string
      profileID:
        type: string
      title:
        type: string
    required:
    - profileID
    - title
    type: object
  d.File:
    properties:
      create_time:
        description: CreateTime holds the value of the "create_time" field.
        type: string
      edges:
        $ref: '#/definitions/ent.FileEdges'
        description: |-
          Edges holds the relations/edges for other nodes in the graph.
          The values are being populated by the FileQuery when eager-loading is set.
      filename:
        description: Filename holds the value of the "filename" field.
        type: string
      id:
        description: ID of the ent.
        type: string
      mime:
        description: Mime holds the value of the "mime" field.
        type: string
      note:
        description: Note holds the value of the "note" field.
        type: string
      path:
        description: Path holds the value of the "path" field.
        type: string
      sid:
        description: Sid holds the value of the "sid" field.
        type: string
      size:
        description: Size holds the value of the "size" field.
        type: integer
      status:
        description: Status holds the value of the "status" field.
        type: string
      update_time:
        description: UpdateTime holds the value of the "update_time" field.
        type: string
    type: object
  d.FileForm:
    properties:
      category:
        type: string
      filename:
        type: string
      mime:
        type: string
      size:
        type: integer
    required:
    - category
    - mime
    - size
    type: object
  d.Identity:
    properties:
      account:
        $ref: '#/definitions/d.Account'
      profiles:
        items:
          $ref: '#/definitions/d.Profile'
        type: array
    type: object
  d.Profile:
    properties:
      avatar:
        description: Avatar holds the value of the "avatar" field.
        type: string
      call:
        description: Call holds the value of the "call" field.
        type: string
      category:
        description: Category holds the value of the "category" field.
        type: string
      create_time:
        description: CreateTime holds the value of the "create_time" field.
        type: string
      edges:
        $ref: '#/definitions/ent.ProfileEdges'
        description: |-
          Edges holds the relations/edges for other nodes in the graph.
          The values are being populated by the ProfileQuery when eager-loading is set.
      id:
        description: ID of the ent.
        type: string
      sid:
        description: Sid holds the value of the "sid" field.
        type: string
      title:
        description: Title holds the value of the "title" field.
        type: string
      update_time:
        description: UpdateTime holds the value of the "update_time" field.
        type: string
    type: object
  d.ProfileForm:
    properties:
      avatar:
        type: string
      call:
        type: string
      category:
        type: string
      title:
        type: string
    required:
    - call
    - category
    - title
    type: object
  d.Token:
    properties:
      body:
        description: Body holds the value of the "body" field.
        type: string
      create_time:
        description: CreateTime holds the value of the "create_time" field.
        type: string
      edges:
        $ref: '#/definitions/ent.TokenEdges'
        description: |-
          Edges holds the relations/edges for other nodes in the graph.
          The values are being populated by the TokenQuery when eager-loading is set.
      expire:
        description: Expire holds the value of the "expire" field.
        type: string
      id:
        description: ID of the ent.
        type: string
      sid:
        description: Sid holds the value of the "sid" field.
        type: string
      type:
        description: Type holds the value of the "type" field.
        type: string
      update_time:
        description: UpdateTime holds the value of the "update_time" field.
        type: string
    type: object
  ent.Account:
    properties:
      create_time:
        description: CreateTime holds the value of the "create_time" field.
        type: string
      edges:
        $ref: '#/definitions/ent.AccountEdges'
        description: |-
          Edges holds the relations/edges for other nodes in the graph.
          The values are being populated by the AccountQuery when eager-loading is set.
      email:
        description: Email holds the value of the "email" field.
        type: string
      id:
        description: ID of the ent.
        type: string
      sid:
        description: Sid holds the value of the "sid" field.
        type: string
      update_time:
        description: UpdateTime holds the value of the "update_time" field.
        type: string
    type: object
  ent.AccountEdges:
    properties:
      file:
        description: File holds the value of the file edge.
        items:
          $ref: '#/definitions/ent.File'
        type: array
      profile:
        description: Profile holds the value of the profile edge.
        items:
          $ref: '#/definitions/ent.Profile'
        type: array
      token:
        description: Token holds the value of the token edge.
        items:
          $ref: '#/definitions/ent.Token'
        type: array
    type: object
  ent.Comment:
    properties:
      content:
        description: Content holds the value of the "content" field.
        type: string
      create_time:
        description: CreateTime holds the value of the "create_time" field.
        type: string
      edges:
        $ref: '#/definitions/ent.CommentEdges'
        description: |-
          Edges holds the relations/edges for other nodes in the graph.
          The values are being populated by the CommentQuery when eager-loading is set.
      id:
        description: ID of the ent.
        type: string
      sid:
        description: Sid holds the value of the "sid" field.
        type: string
      update_time:
        description: UpdateTime holds the value of the "update_time" field.
        type: string
    type: object
  ent.CommentEdges:
    properties:
      author:
        $ref: '#/definitions/ent.Profile'
        description: Author holds the value of the author edge.
      episode:
        $ref: '#/definitions/ent.Episode'
        description: Episode holds the value of the episode edge.
    type: object
  ent.Episode:
    properties:
      content:
        description: Content holds the value of the "content" field.
        type: string
      cover:
        description: Cover holds the value of the "cover" field.
        type: string
      create_time:
        description: CreateTime holds the value of the "create_time" field.
        type: string
      edges:
        $ref: '#/definitions/ent.EpisodeEdges'
        description: |-
          Edges holds the relations/edges for other nodes in the graph.
          The values are being populated by the EpisodeQuery when eager-loading is set.
      id:
        description: ID of the ent.
        type: string
      sid:
        description: Sid holds the value of the "sid" field.
        type: string
      title:
        description: Title holds the value of the "title" field.
        type: string
      update_time:
        description: UpdateTime holds the value of the "update_time" field.
        type: string
    type: object
  ent.EpisodeEdges:
    properties:
      comments:
        description: Comments holds the value of the comments edge.
        items:
          $ref: '#/definitions/ent.Comment'
        type: array
      profile:
        $ref: '#/definitions/ent.Profile'
        description: Profile holds the value of the profile edge.
    type: object
  ent.File:
    properties:
      create_time:
        description: CreateTime holds the value of the "create_time" field.
        type: string
      edges:
        $ref: '#/definitions/ent.FileEdges'
        description: |-
          Edges holds the relations/edges for other nodes in the graph.
          The values are being populated by the FileQuery when eager-loading is set.
      filename:
        description: Filename holds the value of the "filename" field.
        type: string
      id:
        description: ID of the ent.
        type: string
      mime:
        description: Mime holds the value of the "mime" field.
        type: string
      note:
        description: Note holds the value of the "note" field.
        type: string
      path:
        description: Path holds the value of the "path" field.
        type: string
      sid:
        description: Sid holds the value of the "sid" field.
        type: string
      size:
        description: Size holds the value of the "size" field.
        type: integer
      status:
        description: Status holds the value of the "status" field.
        type: string
      update_time:
        description: UpdateTime holds the value of the "update_time" field.
        type: string
    type: object
  ent.FileEdges:
    properties:
      account:
        $ref: '#/definitions/ent.Account'
        description: Account holds the value of the account edge.
    type: object
  ent.Profile:
    properties:
      avatar:
        description: Avatar holds the value of the "avatar" field.
        type: string
      call:
        description: Call holds the value of the "call" field.
        type: string
      category:
        description: Category holds the value of the "category" field.
        type: string
      create_time:
        description: CreateTime holds the value of the "create_time" field.
        type: string
      edges:
        $ref: '#/definitions/ent.ProfileEdges'
        description: |-
          Edges holds the relations/edges for other nodes in the graph.
          The values are being populated by the ProfileQuery when eager-loading is set.
      id:
        description: ID of the ent.
        type: string
      sid:
        description: Sid holds the value of the "sid" field.
        type: string
      title:
        description: Title holds the value of the "title" field.
        type: string
      update_time:
        description: UpdateTime holds the value of the "update_time" field.
        type: string
    type: object
  ent.ProfileEdges:
    properties:
      account:
        $ref: '#/definitions/ent.Account'
        description: Account holds the value of the account edge.
      commenter:
        description: Commenter holds the value of the commenter edge.
        items:
          $ref: '#/definitions/ent.Comment'
        type: array
      episode:
        description: Episode holds the value of the episode edge.
        items:
          $ref: '#/definitions/ent.Episode'
        type: array
    type: object
  ent.Token:
    properties:
      body:
        description: Body holds the value of the "body" field.
        type: string
      create_time:
        description: CreateTime holds the value of the "create_time" field.
        type: string
      edges:
        $ref: '#/definitions/ent.TokenEdges'
        description: |-
          Edges holds the relations/edges for other nodes in the graph.
          The values are being populated by the TokenQuery when eager-loading is set.
      expire:
        description: Expire holds the value of the "expire" field.
        type: string
      id:
        description: ID of the ent.
        type: string
      sid:
        description: Sid holds the value of the "sid" field.
        type: string
      type:
        description: Type holds the value of the "type" field.
        type: string
      update_time:
        description: UpdateTime holds the value of the "update_time" field.
        type: string
    type: object
  ent.TokenEdges:
    properties:
      account:
        $ref: '#/definitions/ent.Account'
        description: Account holds the value of the account edge.
    type: object
  errs.HTTPError:
    properties:
      code:
        type: integer
      message:
        type: string
    type: object
info:
  contact: {}
paths:
  /account:
    get:
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/d.Identity'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errs.HTTPError'
      summary: info an account
      tags:
      - account
      - profile
  /account/login:
    post:
      consumes:
      - application/json
      parameters:
      - description: account info
        in: body
        name: accountInfo
        required: true
        schema:
          $ref: '#/definitions/d.AccountForm'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/d.Token'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errs.HTTPError'
      summary: login an account
      tags:
      - account
  /account/refresh:
    post:
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/d.Token'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errs.HTTPError'
      summary: refresh token
      tags:
      - account
      - token
  /account/register:
    post:
      consumes:
      - application/json
      parameters:
      - description: account info
        in: body
        name: accountInfo
        required: true
        schema:
          $ref: '#/definitions/d.AccountForm'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/d.Account'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errs.HTTPError'
      summary: register an account
      tags:
      - account
  /episode:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/d.Episode'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errs.HTTPError'
      summary: get all episodes
      tags:
      - episode
    post:
      consumes:
      - application/json
      parameters:
      - description: profile id
        in: path
        name: pid
        required: true
        type: string
      - description: episode info
        in: body
        name: episode
        required: true
        schema:
          $ref: '#/definitions/d.EpisodeForm'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/d.Episode'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errs.HTTPError'
      summary: create episode
      tags:
      - episode
  /episode/{id}:
    delete:
      parameters:
      - description: profile id
        in: path
        name: pid
        required: true
        type: string
      - description: episode id
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: ""
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errs.HTTPError'
      summary: delete one episode
      tags:
      - episode
    get:
      consumes:
      - application/json
      parameters:
      - description: episode id
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/d.Episode'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errs.HTTPError'
      summary: get episode
      tags:
      - episode
    put:
      consumes:
      - application/json
      parameters:
      - description: episode id
        in: path
        name: id
        required: true
        type: string
      - description: profile id
        in: path
        name: pid
        required: true
        type: string
      - description: episode info
        in: body
        name: episode
        required: true
        schema:
          $ref: '#/definitions/d.EpisodeForm'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/d.Episode'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errs.HTTPError'
      summary: update episode
      tags:
      - episode
  /file/large/{pid}:
    post:
      consumes:
      - application/json
      parameters:
      - description: profile id
        in: path
        name: pid
        required: true
        type: string
      - description: file meta
        in: body
        name: meta
        required: true
        schema:
          $ref: '#/definitions/d.FileForm'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/d.File'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errs.HTTPError'
      summary: create multipart upload
      tags:
      - file
  /file/large/{pid}/{id}:
    post:
      parameters:
      - description: profile id
        in: path
        name: pid
        required: true
        type: string
      - description: file id
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/d.File'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errs.HTTPError'
      summary: finish multipart upload
      tags:
      - file
  /file/large/{pid}/{id}/{part_id}:
    put:
      consumes:
      - application/octet-stream
      parameters:
      - description: profile id
        in: path
        name: pid
        required: true
        type: string
      - description: file id
        in: path
        name: id
        required: true
        type: string
      - description: part id
        in: path
        name: part_id
        required: true
        type: integer
      - description: file content
        in: body
        name: data
        required: true
        schema:
          type: array
      produces:
      - application/json
      responses:
        "201":
          description: ""
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errs.HTTPError'
      summary: create multipart upload
      tags:
      - file
  /file/single/{id}:
    put:
      consumes:
      - application/octet-stream
      parameters:
      - description: profile id
        in: path
        name: pid
        required: true
        type: string
      - description: file id
        in: path
        name: id
        required: true
        type: string
      - description: file content
        in: body
        name: data
        required: true
        schema:
          type: array
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/d.File'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errs.HTTPError'
      summary: single file content upload
      tags:
      - file
  /file/single/{pid}:
    post:
      consumes:
      - application/json
      parameters:
      - description: profile id
        in: path
        name: pid
        required: true
        type: string
      - description: file meta
        in: body
        name: meta
        required: true
        schema:
          $ref: '#/definitions/d.FileForm'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/d.File'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errs.HTTPError'
      summary: create single file upload
      tags:
      - file
  /profile:
    post:
      consumes:
      - application/json
      parameters:
      - description: profile info
        in: body
        name: profile
        required: true
        schema:
          $ref: '#/definitions/d.ProfileForm'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/d.Profile'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errs.HTTPError'
      summary: create profile
      tags:
      - profile
  /profile/{pid}:
    get:
      parameters:
      - description: profile id
        in: path
        name: pid
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/d.Profile'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errs.HTTPError'
      summary: get profile
      tags:
      - profile
    put:
      consumes:
      - application/json
      parameters:
      - description: profile id
        in: path
        name: pid
        required: true
        type: string
      - description: profile info
        in: body
        name: profile
        required: true
        schema:
          $ref: '#/definitions/d.ProfileForm'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/d.Profile'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errs.HTTPError'
      summary: update profile
      tags:
      - profile
swagger: "2.0"
